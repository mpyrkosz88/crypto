(this["webpackJsonpcrypto-vesting"]=this["webpackJsonpcrypto-vesting"]||[]).push([[0],{77:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(17),r=n.n(i),s=(n(77),n(50)),o=n(33),l=n(62),j=n(61),d=n(12),b=n(103),u=n(104),m=n(105),h=n(115),p=n(90),O=n(55),g=n.n(O),x=n(102),f=n(14),v=n(20),y=n(10),I=n(21),k=n(11),w=Object(I.b)({name:"auth",initialState:{isLoggedIn:!1,token:null},reducers:{logIn:function(e,t){console.log(Object(k.a)(e)),e.isLoggedIn=!0,e.token=t.payload.token},logOut:function(e,t){e.isLoggedIn=!1,e.token=null},checkAuth:function(e,t){"1"===t.payload?(console.log("jestes zalogowany"),e.isLoggedIn=!0):(console.log("nie jestes zalogowany"),e.isLoggedIn=!1)}}}),L=w.actions,C=w,W=n(2),S=Object(x.a)((function(e){return{appBar:{marginBottom:e.spacing(3)},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},link:{color:"white",padding:"0 10px",fontSize:"20px"},inputInput:Object(d.a)({color:"white",padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),P=function(){var e=S(),t=Object(y.c)((function(e){return e.auth.isLoggedIn})),n=Object(y.b)();return Object(W.jsx)(b.a,{position:"static",classes:{root:e.appBar},children:Object(W.jsx)(u.a,{children:Object(W.jsxs)(m.a,{container:!0,children:[Object(W.jsxs)(m.a,{container:!0,item:!0,xs:8,children:[Object(W.jsx)(h.a,{color:"textPrimary",to:"/home",classes:{root:e.link},component:v.b,children:"Dashboard"}),Object(W.jsxs)("div",{className:e.search,children:[Object(W.jsx)("div",{className:e.searchIcon,children:Object(W.jsx)(g.a,{})}),Object(W.jsx)(p.a,{placeholder:"Search\u2026",classes:{input:e.inputInput},inputProps:{"aria-label":"search"}})]}),t?Object(W.jsx)(h.a,{color:"textPrimary",to:"/wallet",classes:{root:e.link},component:v.b,children:"Wallet"}):null]}),Object(W.jsx)(m.a,{container:!0,item:!0,xs:4,justifyContent:"flex-end",children:t?Object(W.jsx)(h.a,{color:"textPrimary",to:"/home",classes:{root:e.link},component:v.b,onClick:function(){localStorage.removeItem("isLoggedIn"),n(L.logOut())},children:"Logout"}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(h.a,{to:"/login",classes:{root:e.link},component:v.b,children:"Login"}),Object(W.jsx)(h.a,{color:"textPrimary",to:"/register",classes:{root:e.link},component:v.b,children:"Register"})]})})]})})})},F=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(P,{}),Object(W.jsx)("main",{children:this.props.children})]})}}]),n}(a.Component),N=F,B=n(106),R=n(107),D=n(108),E=n(116),T=n(109),_=n(110),U=n(40),z=n(114),A=n(111),J=n(112),M=n(56),V=n.n(M),q=n(57),G=n.n(q),H=n(58),K=n.n(H),Q=n(59),X=n.n(Q),Y=n(60),Z=n.n(Y),$=Object(I.b)({name:"wallet",initialState:{items:[]},reducers:{addItemToWallet:function(e,t){var n=t.payload;e.items.push({id:n.id,title:n.title,tokenName:n.tokenName,chain:n.chain,imageUrl:n.imageUrl,price:n.price,round:n.round,listingDate:n.listingDate,inWallet:n.inWallet})},removeItemFromWallet:function(e,t){var n=t.payload.id;e.items=e.items.filter((function(e){return e.id!==n}))}}}),ee=$.actions,te=$,ne=Object(I.b)({name:"products",initialState:{items:[],isInitial:!0},reducers:{loadProducts:function(e,t){e.items=t.payload.items,e.isInitial=!1},addItemToWallet:function(e,t){var n=t.payload.id;e.items.find((function(e){return e.id===n})).inWallet=!0},removeItemFromWallet:function(e,t){var n=t.payload.id;e.items.find((function(e){return e.id===n})).inWallet=!1}}}),ae=ne.actions,ce=ne,ie=Object(x.a)({spacing:{margin:"0 10px"}}),re=function(e){var t,n=ie(),a=e.item,c=a.id,i=a.title,r=a.tokenName,s=a.chain,o=a.imageUrl,l=a.price,j=a.round,d=a.listingDate,b=a.webPage,u=a.twitterPage,h=a.telegram,p=a.chart,O=a.vesting,g=a.inWallet,x=Object(y.b)(),f=Object(y.c)((function(e){return e.auth.isLoggedIn}));return t=g?Object(W.jsx)(B.a,{variant:"contained",color:"secondary",onClick:function(){x(ae.removeItemFromWallet({id:c})),x(ee.removeItemFromWallet({id:c}))},style:{marginBottom:"12px"},children:"Remove from wallet"}):Object(W.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){x(ae.addItemToWallet({id:c})),x(ee.addItemToWallet({id:c,title:i,tokenName:r,chain:s,imageUrl:o,price:l,round:j,listingDate:d,webPage:b,twitterPage:u,telegram:h,chart:p,vesting:O,inWallet:!0}))},style:{marginBottom:"12px"},children:"Add to wallet"}),Object(W.jsx)(m.a,{item:!0,xs:12,sm:6,md:4,children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)(D.a,{avatar:Object(W.jsx)(E.a,{src:o}),action:Object(W.jsx)(T.a,{"aria-label":"settings",children:Object(W.jsx)(V.a,{})}),title:i,subheader:r}),Object(W.jsxs)(_.a,{children:[Object(W.jsxs)(m.a,{container:!0,alignItems:"center",children:[Object(W.jsx)(U.a,{variant:"h6",component:"h6",children:"Round:"}),Object(W.jsx)(U.a,{variant:"body1",component:"p",className:n.spacing,children:j})]}),Object(W.jsxs)(m.a,{container:!0,alignItems:"center",children:[Object(W.jsx)(U.a,{variant:"h6",component:"h6",children:"Round price:"}),Object(W.jsx)(U.a,{variant:"body1",component:"p",className:n.spacing,children:l})]}),Object(W.jsxs)(m.a,{container:!0,alignItems:"center",children:[Object(W.jsx)(U.a,{variant:"h6",component:"h6",children:"Chain:"}),Object(W.jsx)(U.a,{variant:"body1",component:"p",className:n.spacing,children:s})]}),Object(W.jsxs)(m.a,{container:!0,alignItems:"center",children:[Object(W.jsx)(U.a,{variant:"h6",component:"h6",children:"Listing date:"}),Object(W.jsx)(U.a,{variant:"body1",component:"p",className:n.spacing,children:d})]}),Object(W.jsx)(z.a,{m:2,children:Object(W.jsx)(U.a,{variant:"h5",align:"center",children:"Links"})}),Object(W.jsxs)(m.a,{container:!0,justifyContent:"space-between",children:[Object(W.jsx)(A.a,{href:b,target:"_blank",children:Object(W.jsx)(G.a,{})}),Object(W.jsx)(A.a,{href:u,target:"_blank",children:Object(W.jsx)(K.a,{})}),Object(W.jsx)(A.a,{href:h,target:"_blank",children:Object(W.jsx)(X.a,{})}),Object(W.jsx)(A.a,{href:p,target:"_blank",children:Object(W.jsx)(Z.a,{})})]})]}),Object(W.jsx)(J.a,{children:Object(W.jsxs)(m.a,{container:!0,justifyContent:"space-evenly",children:[Object(W.jsx)(B.a,{variant:"contained",color:"primary",style:{marginBottom:"12px"},children:Object(W.jsx)(A.a,{href:O,target:"_blank",color:"inherit",underline:"none",children:"Vesting"})}),f?t:null]})})]})})},se=n(39),oe=n.n(se),le=n(47),je=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.products.items})),n=Object(y.c)((function(e){return e.products.isInitial}));return Object(a.useEffect)((function(){n&&e(function(){var e=Object(le.a)(oe.a.mark((function e(t){var n,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(le.a)(oe.a.mark((function e(){var t,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://crypto-vesting-default-rtdb.europe-west1.firebasedatabase.app/products.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch products data!");case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,n();case 4:a=e.sent,t(ae.loadProducts({items:a||[]})),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e,n]),Object(W.jsxs)(m.a,{item:!0,container:!0,children:[Object(W.jsx)(m.a,{item:!0,xs:!1,sm:1,md:2}),Object(W.jsx)(m.a,{item:!0,xs:12,sm:10,md:8,container:!0,spacing:4,children:t.map((function(e){return Object(W.jsx)(re,{item:e},e.id)}))}),Object(W.jsx)(m.a,{item:!0,xs:!1,sm:1,md:2})]})},de=function(){var e=[];return e=Object(y.c)((function(e){return e.wallet.items})),Object(W.jsxs)(m.a,{item:!0,container:!0,children:[Object(W.jsx)(m.a,{item:!0,xs:!1,sm:1,md:2}),Object(W.jsx)(m.a,{item:!0,xs:12,sm:10,md:8,container:!0,spacing:4,children:e.map((function(e){return Object(W.jsx)(re,{item:e},e.id)}))}),Object(W.jsx)(m.a,{item:!0,xs:!1,sm:1,md:2})]})},be=n(15),ue=n(113),me=n(6),he=function(){var e=Object(y.b)(),t=Object(me.g)(),n=Object(a.useState)(""),c=Object(be.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(!0),o=Object(be.a)(s,2),l=o[0],j=o[1],d=Object(a.useState)(""),b=Object(be.a)(d,2),u=b[0],h=b[1],p=Object(a.useState)(!0),O=Object(be.a)(p,2),g=O[0],x=O[1],f=Object(a.useState)(!1),v=Object(be.a)(f,2),I=v[0],k=v[1];Object(a.useEffect)((function(){k(l&&g&&i.trim().length>0&&u.trim().length>0)}),[l,g]);return Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(m.a,{container:!0,children:[Object(W.jsx)(m.a,{item:!0,xs:1,sm:2,md:4}),Object(W.jsx)(m.a,{item:!0,xs:10,sm:8,md:4,container:!0,direction:"column",children:Object(W.jsxs)(z.a,{component:"form",autoComplete:"off",children:[Object(W.jsx)(ue.a,{placeholder:"Login",id:"login",label:"login",type:"email",fullWidth:!0,value:i.value,onChange:function(e){r(e.target.value),j(0===e.target.value.trim().length||e.target.value.includes("@"))},error:!l}),Object(W.jsx)(ue.a,{placeholder:"Password",id:"password",label:"password",type:"password",fullWidth:!0,value:u.value,onChange:function(e){h(e.target.value),x(0===e.target.value.trim().length||e.target.value.trim().length>3)},error:!g}),Object(W.jsx)(z.a,{mt:1,children:Object(W.jsx)(B.a,{color:"primary",variant:"contained",disabled:!I,onClick:function(){localStorage.setItem("isLoggedIn",1);var n=localStorage.getItem("isLoggedIn");e(L.logIn(n)),t("/home")},children:"Login"})})]})}),Object(W.jsx)(m.a,{item:!0,xs:1,sm:2,md:4})]})})};var pe=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.auth.isLoggedIn}));Object(a.useEffect)((function(){var t=localStorage.getItem("isLoggedIn");e(L.checkAuth(t))}),[e]);var n=Object(W.jsxs)(me.d,{children:[Object(W.jsx)(me.b,{path:"/home",element:Object(W.jsx)(je,{})}),Object(W.jsx)(me.b,{path:"/login",element:Object(W.jsx)(he,{})}),Object(W.jsx)(me.b,{path:"/",element:Object(W.jsx)(me.a,{replace:!0,to:"/home"})})]});return t&&(n=Object(W.jsxs)(me.d,{children:[Object(W.jsx)(me.b,{path:"/home",element:Object(W.jsx)(je,{})}),Object(W.jsx)(me.b,{path:"/wallet",element:Object(W.jsx)(de,{})}),Object(W.jsx)(me.b,{path:"/",element:Object(W.jsx)(me.a,{replace:!0,to:"/home"})})]})),Object(W.jsx)(N,{children:n})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},ge=Object(I.a)({reducer:{products:ce.reducer,wallet:te.reducer,auth:C.reducer}});r.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(y.a,{store:ge,children:Object(W.jsx)(v.a,{children:Object(W.jsx)(pe,{})})})}),document.getElementById("root")),Oe()}},[[86,1,2]]]);
//# sourceMappingURL=main.fc015c63.chunk.js.map